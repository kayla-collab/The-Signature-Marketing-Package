<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client Dashboard - Signature Marketing Package</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css?v=20241228e">
    <script src="js/iframe-optimization.js?v=3"></script>
</head>
<body class="client-dashboard-page">
    <div class="dashboard client-dashboard">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>Your Marketing Package</h2>
                <p class="user-name" id="userName">Loading...</p>
            </div>
            
            <nav>
                <ul class="nav-menu" id="clientNavMenu">
                    <li><a href="#overview" class="nav-link active">Overview</a></li>
                    <!-- Module links will be dynamically generated -->
                </ul>
            </nav>
            
            <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #e0e0e0;">
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 0 20px 15px 20px;">
                    <span style="font-size: 14px; color: #666;">Night Mode</span>
                    <label class="theme-switch">
                        <input type="checkbox" id="nightModeToggle">
                        <span class="slider"></span>
                    </label>
                </div>
                <a href="https://fera.review/vb2" target="_blank" class="btn btn-primary btn-sm" style="width: 100%; text-decoration: none; display: block; text-align: center; margin-bottom: 10px;">Leave a Review ‚≠ê</a>
                <a href="mailto:kayla@kaylasierra.com" class="btn btn-secondary btn-sm" style="width: 100%; text-decoration: none; display: block; text-align: center; margin-bottom: 10px;">Contact Us üìß</a>
                <button onclick="auth.logout()" class="btn btn-secondary btn-sm" style="width: 100%;">Logout</button>
            </div>
        </aside>
        <div class="sidebar-overlay" id="sidebarOverlay" role="presentation"></div>
        
        <main class="main-content">
            <div class="client-topbar">
                <button id="sidebarToggle" class="sidebar-toggle" aria-label="Toggle navigation" aria-expanded="false">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="client-topbar__title" id="currentModuleLabel" role="heading" aria-level="2">Overview</div>
                <a href="mailto:kayla@kaylasierra.com" class="client-topbar__support">Email Support</a>
            </div>

            <div class="content-scaffold">
                <div class="content-primary">
                    <!-- Overview Section -->
                    <section id="overview-section" class="content-view">
                        <div class="page-header">
                            <h1>Your Marketing Package</h1>
                            <p>Everything you need to execute your marketing strategy with confidence.</p>
                        </div>

                        <!-- CTA Banner -->
                        <div class="cta-banner">
                            <h3>Ready to Level Up?</h3>
                            <p>Book a Marketing Deep Dive to create your custom strategy, or join our coaching program for ongoing support.</p>
                            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                                <a href="https://wix.to/IYtKXqT" target="_blank" class="btn" style="text-decoration: none;">Book Deep Dive Call</a>
                                <a href="https://www.kaylasierra.com/pricing-plans" target="_blank" class="btn" style="text-decoration: none;">Join Coaching</a>
                            </div>
                        </div>

                        <!-- Modules Grid -->
                        <div class="modules-grid" id="modulesGrid">
                            <!-- Modules will be loaded here dynamically -->
                        </div>

                        <!-- Review CTA -->
                        <div style="background: #f9f9f9; padding: 30px; border-radius: 10px; text-align: center; margin-top: 30px;">
                            <h3 style="margin-bottom: 15px;">Loving Your Results?</h3>
                            <p style="margin-bottom: 20px; color: #666;">Your feedback helps other entrepreneurs find the support they need!</p>
                            <a href="https://fera.review/vb2" target="_blank" class="btn btn-secondary">Leave a Review</a>
                        </div>
                    </section>

                    <!-- Module Detail Sections (Hidden by default) -->
                    <section id="module-detail-section" class="content-view hidden">
                        <div class="module-shell">
                            <aside class="module-navigator" aria-label="Module navigation">
                                <div class="module-navigator__header">
                                    <button onclick="showOverview()" class="btn btn-secondary btn-sm module-nav-back">‚Üê Back</button>
                                    <span class="module-navigator__eyebrow">Outline</span>
                                    <h3 id="moduleNavTitle">Content sections</h3>
                                </div>
                                <nav class="module-nav-list" id="moduleNavList">
                                    <p class="module-nav-empty">Content sections will appear here.</p>
                                </nav>
                            </aside>
                            <div class="module-main">
                                <div class="module-header">
                                    <div class="module-header-top">
                                        <button onclick="showOverview()" class="btn btn-secondary btn-sm module-back">‚Üê Back to Overview</button>
                                        <button id="fullscreenToggle" class="btn btn-secondary btn-sm module-fullscreen" onclick="toggleFullscreen()">
                                            <span class="icon-expand">‚§¢</span> Fullscreen
                                        </button>
                                    </div>
                                    <h1 id="moduleTitle" class="module-title">Module Title</h1>
                                    <p id="moduleDescription" class="module-subtitle">Module description</p>
                                </div>

                                <div id="moduleContent" class="module-content-area">
                                    <!-- Content items will be loaded here -->
                                </div>

                                <div class="module-cta-panel">
                                    <h3>Need help implementing these strategies?</h3>
                                    <p>Book a personalized strategy session so we can implement the next tier of your marketing plan together.</p>
                                    <a href="https://wix.to/IYtKXqT" target="_blank" class="btn module-cta-button">Schedule Your Strategy Call</a>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </main>
    </div>
    
    <footer class="legal-footer">
        <p style="text-align: center;">&copy; <span id="currentYear"></span> <a href="https://www.kaylasierra.com" target="_blank" style="color: #db8a70; text-decoration: none;">Kayla Sierra Consulting</a>. All Rights Reserved.</p>
        <p class="disclaimer" style="text-align: center;"><strong>DISCLAIMER:</strong> The strategies, templates, and recommendations provided in The Signature Marketing Package are for educational and consulting purposes only. Results may vary based on individual effort, market conditions, and business circumstances. Kayla Sierra Consulting does not guarantee specific outcomes or revenue results. All content is provided "as is" without warranty of any kind. By using these materials, you agree that Kayla Sierra Consulting is not liable for any decisions made or actions taken based on the information provided.</p>
    </footer>
    
    <!-- Loading Overlay - Enhanced UX -->
    <div id="loadingOverlay" class="loading-overlay show">
        <div class="loading-spinner"></div>
        <div class="loading-text">Welcome back!</div>
        <div class="loading-subtext">Loading your marketing materials...</div>
        <!-- Progress bar removed to match luxe style -->
    </div>
    
    <!-- Floating Back Button (visible in module view) -->
    <button id="floatingBackBtn" class="floating-back-btn" onclick="showOverview()" style="display: none;">
        <span>‚Üê</span> Back to Overview
    </button>
    
    <!-- Welcome Greeting Modal -->
    <div id="greetingModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <button class="close-btn" onclick="closeGreetingModal()" style="position: absolute; top: 20px; right: 20px; background: none; border: none; font-size: 28px; cursor: pointer; color: #999;">&times;</button>
            <div style="text-align: center; padding: 20px;">
                <h2 style="color: #2d2d2d; margin: 0 0 15px 0; font-size: 28px; font-weight: 600;">Welcome, <span id="clientName">there</span>!</h2>
                <div id="personalGreeting" style="color: #666; line-height: 1.8; font-size: 16px; margin-top: 20px;">
                    <p>We're thrilled to have you here. Your Signature Marketing Package has been carefully curated to help you achieve exceptional results.</p>
                </div>
                <button onclick="closeGreetingModal()" class="btn btn-primary" style="margin-top: 25px;">Get Started</button>
            </div>
        </div>
    </div>
    
    <!-- Benchmark Call Modal -->
    <div id="benchmarkModal" class="modal">
        <div class="modal-content" style="max-width: 550px; text-align: center;">
            <button class="close-btn" onclick="closeBenchmarkModal()" style="position: absolute; top: 20px; right: 20px; background: none; border: none; font-size: 28px; cursor: pointer; color: #999;">&times;</button>
            <div style="background: linear-gradient(135deg, #db8a70 0%, #c77959 100%); padding: 40px; border-radius: 8px; color: white; margin: -20px -20px 20px -20px;">
                <h2 style="margin: 0 0 15px 0; font-size: 26px;">Time for Your Quarterly Check-In!</h2>
                <p style="margin: 0; font-size: 16px; opacity: 0.95;">It's been 3 months since we last connected. Let's review your progress and set new goals for the next quarter.</p>
            </div>
            <div style="padding: 0 20px 20px 20px;">
                <a href="https://wix.to/XgXUSVb" target="_blank" class="btn btn-primary" onclick="recordBenchmarkClick()" style="text-decoration: none; font-size: 16px; padding: 14px 32px;">Schedule Your Benchmark Call</a>
                <button onclick="closeBenchmarkModal()" class="btn btn-secondary" style="margin-top: 15px;">Maybe Later</button>
            </div>
        </div>
    </div>
    
    <!-- Review Request Modal -->
    <div id="reviewModal" class="modal">
        <div class="modal-content" style="max-width: 500px; text-align: center;">
            <button class="close-btn" onclick="closeReviewModal()" style="position: absolute; top: 20px; right: 20px; background: none; border: none; font-size: 28px; cursor: pointer; color: #999;">&times;</button>
            <div style="padding: 20px;">
                <h2 style="margin: 0 0 15px 0; color: #2d2d2d;">Enjoying Your Experience?</h2>
                <p style="color: #666; margin-bottom: 25px;">We'd love to hear your feedback! How would you rate your experience so far?</p>
                
                <div id="starRating" style="font-size: 40px; margin: 25px 0; cursor: pointer;">
                    <span class="star" data-rating="1">‚òÜ</span>
                    <span class="star" data-rating="2">‚òÜ</span>
                    <span class="star" data-rating="3">‚òÜ</span>
                    <span class="star" data-rating="4">‚òÜ</span>
                    <span class="star" data-rating="5">‚òÜ</span>
                </div>
                
                <div id="ratingMessage" style="min-height: 60px; margin-top: 20px;"></div>
            </div>
        </div>
    </div>
    
    <script src="js/auth.js?v=20241228b"></script>
    <script src="js/dashboard.js?v=20241228b"></script>
    <script src="js/dashboard-modals.js?v=20241228"></script>
    <script>
        // Initialize dashboard
        initDashboard();
        document.getElementById('currentYear').textContent = new Date().getFullYear();
    </script>
</body>
</html>
